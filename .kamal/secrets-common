CI_REGISTRY_USER=$CI_REGISTRY_USER
CI_REGISTRY_PASSWORD=$CI_REGISTRY_PASSWORD

SECRETS=$(kamal secrets fetch --adapter bitwarden-sm $BWS_PROJECT_ID/all)

# APP_ENV=configured-in-deploy.yml
# APP_HOST=configured-in-deploy.yml
# APP_PORT=configured-in-deploy.yml

# RAILS_ENV=configured-in-deploy.yml
# RAILS_MAX_THREADS=configured-in-deploy.yml

# POSTGRES_HOST=configured-in-deploy.yml
# POSTGRES_PORT=configured-in-deploy.yml
POSTGRES_USER=$(kamal secrets extract POSTGRES_USER $SECRETS)
POSTGRES_PASSWORD=$(kamal secrets extract POSTGRES_PASSWORD $SECRETS)

RAILS_MASTER_KEY=$(kamal secrets extract RAILS_MASTER_KEY $SECRETS)
SECRET_KEY_BASE=$(kamal secrets extract SECRET_KEY_BASE $SECRETS)

ACTIVE_RECORD_ENCRYPTION_PRIMARY_KEY=$(kamal secrets extract ACTIVE_RECORD_ENCRYPTION_PRIMARY_KEY $SECRETS)
ACTIVE_RECORD_ENCRYPTION_DETERMINISTIC_KEY=$(kamal secrets extract ACTIVE_RECORD_ENCRYPTION_DETERMINISTIC_KEY $SECRETS)
ACTIVE_RECORD_ENCRYPTION_KEY_DERIVATION_SALT=$(kamal secrets extract ACTIVE_RECORD_ENCRYPTION_KEY_DERIVATION_SALT $SECRETS)

# NOREPLY_EMAIL=configured-in-deploy.yml

H_CAPTCHA_SITE_KEY=$(kamal secrets extract H_CAPTCHA_SITE_KEY $SECRETS)
H_CAPTCHA_SECRET_KEY=$(kamal secrets extract H_CAPTCHA_SECRET_KEY $SECRETS)

TOKEN_SALT=$(kamal secrets extract TOKEN_SALT $SECRETS)
TOKEN_SESSION_SALT=$(kamal secrets extract TOKEN_SESSION_SALT $SECRETS)
TOKEN_API_SESSION_SALT=$(kamal secrets extract TOKEN_API_SESSION_SALT $SECRETS)

TOKEN_ADMIN_SALT=$(kamal secrets extract TOKEN_ADMIN_SALT $SECRETS)
TOKEN_ADMIN_SESSION_SALT=$(kamal secrets extract TOKEN_ADMIN_SESSION_SALT $SECRETS)
TOKEN_ADMIN_API_SESSION_SALT=$(kamal secrets extract TOKEN_ADMIN_API_SESSION_SALT $SECRETS)

CODE_SALT=$(kamal secrets extract CODE_SALT $SECRETS)
CODE_ADMIN_SALT=$(kamal secrets extract CODE_ADMIN_SALT $SECRETS)

# PERIODS_MIN_PAST_TIME=configured-in-deploy.yml
