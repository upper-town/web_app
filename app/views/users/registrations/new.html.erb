<% content_for(:head) do %>
  <%= @captcha.script_tag %>
<% end %>

<h2>Sign up</h2>

<%= render("users/shared/error_messages", resource: resource) %>

<%= form_with(model: resource, url: registration_path(resource_name)) do |form| %>
  <div class="mb-2">
    <%= form.label(:email) %><br />
    <%= form.email_field(:email, autofocus: true, autocomplete: "email") %>
  </div>

  <div class="mb-2">
    <%= form.label(:password, 'Password (never reuse a password!)') %><br />
    <%= form.password_field(:password, autocomplete: "new-password") %>
  </div>
  <div>
    <% if @minimum_password_length %>
      <em>(<%= @minimum_password_length %> characters minimum)</em>
    <% end %>
  </div>

  <div class="mb-2">
    <%= form.label(:password_confirmation) %><br />
    <%= form.password_field(:password_confirmation, autocomplete: "new-password") %>
  </div>

  <div class="my-2">
    <%= @captcha.widget_tag %>
  </div>

  <div class="mb-2">
    <%=
      form.submit(
        "Sign up",
        class: 'btn btn-primary',
        data: { 'turbo-submits-with' => 'Loading...' }
      )
    %>
  </div>
<% end %>

<%= render "users/shared/links" %>
